<DOCTYPE html>
<html>
<head>
	<title>API HW10</title>
	<link rel="stylesheet" type="text/css" href="APIprac.css">
	<script type="text/javascript">
		function getPlayerData() {
			request = new XMLHttpRequest();


			request.open("GET", "https://cors-anywhere.herokuapp.com/https://free-nba.p.rapidapi.com/teams");
			request.setRequestHeader("x-rapidapi-host", "free-nba.p.rapidapi.com");
			request.setRequestHeader("x-rapidapi-key", "bb380f9a76msha28fcd26bd36ab1p1134acjsn37ea751d05ad");

			request.send();

			request.onreadystatechange = function() {
				if (request.readyState == 4 && request.status == 200) {
					data = request.responseText;
					console.log("4 - done");
					teams = JSON.parse(data);
					var randTeam = Math.floor(Math.random() * 30);
					var teamDiv = document.getElementById("teamData");
					teamDiv.innerHTML = teams.data[randTeam].full_name;
					teamDiv.style.background = "#90ee90";
				}
			}
		}
	</script>
</head>
<body onload="getPlayerData()">
	<div id="teamData">
		Choosing a team...
	</div>

	<div id="what">
		<h2> What? </h2>
		Provides stats on NBA games and players
	</div>

	<div id="where">
		<h2> Where? </h2>
		<a href="https://rapidapi.com/theapiguy/api/free-nba/endpoints">Rapid API</a>
	</div>

	<div id="options">
			<h2>Options</h2>
		I requested data on the 30 NBA teams and used the data to randomly
		output a team name.
	</div>

	<div id="why">
		<h2>Why?</h2>
		<ul>
			<li>This API would be helpful for reporting scores of recent NBA
			games on a sports website</li>
			<li>This API could also be used to display specific player stats
			on a sports website</li>
	</div>

</body>
</html>